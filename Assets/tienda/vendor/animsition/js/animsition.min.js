/*
 animsition v4.0.2
 A simple and easy jQuery plugin for CSS animated page transitions.
 http://blivesta.github.io/animsition
 License : MIT
 Author : blivesta (http://blivesta.com/)
*/
(function(c){"function"===typeof define&&define.amd?define(["jquery"],c):"object"===typeof exports?module.exports=c(require("jquery")):c(jQuery)})(function(c){var b={init:function(a){a=c.extend({inClass:"fade-in",outClass:"fade-out",inDuration:1500,outDuration:800,linkElement:".animsition-link",loading:!0,loadingParentElement:"body",loadingClass:"animsition-loading",loadingInner:"",timeout:!1,timeoutCountdown:5E3,onLoadEvent:!0,browser:["animation-duration","-webkit-animation-duration"],overlay:!1,
overlayClass:"animsition-overlay-slide",overlayParentElement:"body",transition:function(a){window.location.href=a}},a);b.settings={timer:!1,data:{inClass:"animsition-in-class",inDuration:"animsition-in-duration",outClass:"animsition-out-class",outDuration:"animsition-out-duration",overlay:"animsition-overlay"},events:{inStart:"animsition.inStart",inEnd:"animsition.inEnd",outStart:"animsition.outStart",outEnd:"animsition.outEnd"}};var f=b.supportCheck.call(this,a);if(!f&&0<a.browser.length&&(!f||!this.length))return"console"in
window||(window.console={},window.console.log=function(a){return a}),this.length||console.log("Animsition: Element does not exist on page."),f||console.log("Animsition: Does not support this browser."),b.destroy.call(this);b.optionCheck.call(this,a)&&0>=c("."+a.overlayClass).length&&b.addOverlay.call(this,a);a.loading&&0>=c("."+a.loadingClass).length&&b.addLoading.call(this,a);return this.each(function(){var f=this,d=c(this),g=c(window),h=c(document);if(!d.data("animsition")){a=c.extend({},a);d.data("animsition",
{options:a});a.timeout&&b.addTimer.call(f);if(a.onLoadEvent)g.on("load.animsition",function(){b.settings.timer&&clearTimeout(b.settings.timer);b.in.call(f)});g.on("pageshow.animsition",function(a){a.originalEvent.persisted&&b.in.call(f)});g.on("unload.animsition",function(){});h.on("click.animsition",a.linkElement,function(a){a.preventDefault();var d=c(this),e=d.attr("href");2===a.which||a.metaKey||a.shiftKey||-1!==navigator.platform.toUpperCase().indexOf("WIN")&&a.ctrlKey?window.open(e,"_blank"):
b.out.call(f,d,e)})}})},addOverlay:function(a){c(a.overlayParentElement).prepend('<div class="'+a.overlayClass+'"></div>')},addLoading:function(a){c(a.loadingParentElement).append('<div class="'+a.loadingClass+'">'+a.loadingInner+"</div>")},removeLoading:function(){var a=c(this).data("animsition").options;c(a.loadingParentElement).children("."+a.loadingClass).fadeOut().remove()},addTimer:function(){var a=this,f=c(this).data("animsition").options;b.settings.timer=setTimeout(function(){b.in.call(a);
c(window).off("load.animsition")},f.timeoutCountdown)},supportCheck:function(a){var b=c(this);a=a.browser;var e=a.length,d=!1;0===e&&(d=!0);for(var g=0;g<e;g++)if("string"===typeof b.css(a[g])){d=!0;break}return d},optionCheck:function(a){var f=c(this);return a.overlay||f.data(b.settings.data.overlay)?!0:!1},animationCheck:function(a,b,e){var d=c(this).data("animsition").options,f=typeof a,h=b&&"string"===f&&0<a.length;!b&&"number"===f||h||(b&&e?a=d.inClass:!b&&e?a=d.inDuration:b&&!e?a=d.outClass:
b||e||(a=d.outDuration));return a},in:function(){var a=c(this),f=a.data("animsition").options,e=a.data(b.settings.data.inDuration),d=a.data(b.settings.data.inClass);e=b.animationCheck.call(this,e,!1,!0);d=b.animationCheck.call(this,d,!0,!0);var g=b.optionCheck.call(this,f),h=a.data("animsition").outClass;f.loading&&b.removeLoading.call(this);h&&a.removeClass(h);g?b.inOverlay.call(this,d,e):b.inDefault.call(this,d,e)},inDefault:function(a,f){var e=c(this);e.css({"animation-duration":f+"ms"}).addClass(a).trigger(b.settings.events.inStart).animateCallback(function(){e.removeClass(a).css({opacity:1}).trigger(b.settings.events.inEnd)})},
inOverlay:function(a,f){var e=c(this),d=e.data("animsition").options;e.css({opacity:1}).trigger(b.settings.events.inStart);c(d.overlayParentElement).children("."+d.overlayClass).css({"animation-duration":f+"ms"}).addClass(a).animateCallback(function(){e.trigger(b.settings.events.inEnd)})},out:function(a,f){var e=c(this),d=e.data("animsition").options,g=a.data(b.settings.data.outClass),h=e.data(b.settings.data.outClass);a=a.data(b.settings.data.outDuration);var k=e.data(b.settings.data.outDuration);
a=a?a:k;g=b.animationCheck.call(this,g?g:h,!0,!1);h=b.animationCheck.call(this,a,!1,!1);d=b.optionCheck.call(this,d);e.data("animsition").outClass=g;d?b.outOverlay.call(this,g,h,f):b.outDefault.call(this,g,h,f)},outDefault:function(a,f,e){var d=c(this),g=d.data("animsition").options;d.css({"animation-duration":f+1+"ms"}).addClass(a).trigger(b.settings.events.outStart).animateCallback(function(){d.trigger(b.settings.events.outEnd);g.transition(e)})},outOverlay:function(a,f,e){var d=c(this),g=d.data("animsition").options,
h=d.data(b.settings.data.inClass);h=b.animationCheck.call(this,h,!0,!0);c(g.overlayParentElement).children("."+g.overlayClass).css({"animation-duration":f+1+"ms"}).removeClass(h).addClass(a).trigger(b.settings.events.outStart).animateCallback(function(){d.trigger(b.settings.events.outEnd);g.transition(e)})},destroy:function(){return this.each(function(){var a=c(this);c(window).off(".animsition");a.css({opacity:1}).removeData("animsition")})}};c.fn.animateCallback=function(a){return this.each(function(){var b=
c(this);b.on("animationend webkitAnimationEnd",function(){b.off("animationend webkitAnimationEnd");return a.call(this)})})};c.fn.animsition=function(a){if(b[a])return b[a].apply(this,Array.prototype.slice.call(arguments,1));if("object"!==typeof a&&a)c.error("Method "+a+" does not exist on jQuery.animsition");else return b.init.apply(this,arguments)}});